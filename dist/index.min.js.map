{"version":3,"sources":["webpack:///dist/index.min.js","webpack:///webpack/bootstrap 4a07a56ee7b4bc6f5ed6","webpack:///./src/index.js","webpack:///./~/amp-extend/extend.js","webpack:///./~/amp-is-object/is-object.js","webpack:///./~/amp-merge/merge.js","webpack:///./src/clickTrackingAttributes.js","webpack:///./src/dealer-gtm.js","webpack:///./src/gtm/getGtmContainerId.js","webpack:///./src/gtm/googletagmanager.js","webpack:///./src/gtm/index.js","webpack:///./src/gtm/viewport.js","webpack:///./src/ivw.js","webpack:///./src/oewa.js","webpack:///./src/trackingElement.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","trackingEnabled","location","hash","indexOf","startTracking","processCommand","data","fn","args","gtm","setPagename","slice","apply","dealerGtm","ut","window","push","Array","prototype","arguments","forEach","hostname","split","pop","run","console","log","isObject","obj","source","prop","i","length","_typeof","Symbol","iterator","constructor","type","extend","unshift","this","addEventListener","e","dataLayer","node","target","rawValue","getAttribute","value","JSON","parse","error","parentNode","add","currentVehicles","commit","list_productidsall","containerIdsByTld","de","at","be","lu","es","fr","it","nl","com","isIdentityPage","extractTldFromRedirectUrl","url","regexp","RegExp","matches","href","match","tld","join","toLower","val","toLowerCase","useNewArrayLogic","loadContainer","containerId","w","d","s","l","gtm.start","Date","getTime","event","f","getElementsByTagName","j","createElement","dl","async","src","insertBefore","document","gtmAlreadyLoadedClassName","alreadyInitiatedMainGtmContainerLoaded","documentElement","className","__tcfapi","callback","tcData","success","eventStatus","listenerId","purpose","consents","map","key","pn","pagename","generateCommonParams","mergedPagename","merge","country","market","category","pageid","environment","Error","stringify","commonPageName","group","filter","x","layer","commonData","common_country","common_market","common_category","common_pageid","common_pageName","common_environment","common_language","language","common_group","common_layer","common_attribute","attribute","common_linkgroup","linkgroup","common_linkid","linkid","common_techState","techState","trackClick","params","eventcategory","eventaction","event_category","event_action","event_label","eventlabel","event_non_interaction","trackPageview","firstPageview","viewport","setTimeout","set","pageview","click","viewportWidth","Math","min","clientWidth","innerWidth","screen","width","session_viewport","loadScript","then","iam_data","st","isMobile","cp","sv","co","iom","home","detailGallery","Promise","resolve","script","ref","onload","querySelector","pathname","startsWith","onHomepage","onDealerInfoListPage","test","detailPage","oewa_data","cn","ps","allPages","pixelPath","path","onDetailPage","_extends","Object","assign","hasOwnProperty","as24tracking","create","HTMLElement","inDev","supportedActions","supportedTypes","reservedWords","attachedCallback","_this","values","getAdditionalProperties","action","keys","splice","clickTarget","elements","querySelectorAll","track","_this2","trackingValue","isArray","attributes","element","nodeName","reduce","prev","curr","attrName","decodeAttributeName","nodeValue","replace","g","toUpperCase","ctor","HTMLUnknownElement","registerElement","warn"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,GAGAV,EAAA,KDMM,SAAUI,EAAQD,EAASH,GAEhC,YE9CD,IAAMW,GAAkBC,SAASC,KAAKC,QAAQ,qBAAuB,EAE/DC,EAAgB,WAIlB,QAASC,GAAeC,GACpB,GAAIC,GAAIC,CAEQ,cAAZF,EAAK,IACLG,EAAIC,YAAYJ,EAAK,IAGT,QAAZA,EAAK,IACLC,EAAKE,EAAIH,EAAK,IACdE,EAAOF,EAAKK,MAAM,GACA,kBAAPJ,IACPA,EAAGK,MAAMH,EAAKD,IAEC,eAAZF,EAAK,KACZC,EAAKM,EAAUP,EAAK,IACpBE,EAAOF,EAAKK,MAAM,GACA,kBAAPJ,IACPA,EAAGK,MAAMC,EAAWL,IApBhC,GAAIC,GAAMpB,EAAQ,GACdwB,EAAYxB,EAAQ,GAwBpByB,EAAKC,OAAOD,KAAOC,OAAOD,MAE1BA,GAAGE,OAASC,MAAMC,UAAUF,OAC5BF,EAAGE,KAAO,WACNC,MAAMC,UAAUF,KAAKJ,MAAMG,OAAOD,GAAIK,WACtCd,EAAeO,SAAUO,YAG7BL,EAAGM,QAAQf,IAGfhB,EAAQ,IAERI,EAAOD,SACHiB,IAAKA,EACLK,GAAIA,GAIZzB,GAAQ,GAE0C,OAA9C0B,OAAOd,SAASoB,SAASC,MAAM,KAAKC,OACpClC,EAAQ,IAGsC,OAA9C0B,OAAOd,SAASoB,SAASC,MAAM,KAAKC,OACpClC,EAAQ,GAGZ,IAAMmC,GAAM,WACR,MAAKxB,OAKLI,SAJIqB,SAAQC,IAAI,qBAOpBF,MFoDM,SAAU/B,EAAQD,EAASH,GAEhC,YGxHD,IAAIsC,GAAWtC,EAAQ,EAGvBI,GAAOD,QAAU,SAASoC,GACtB,IAAKD,EAASC,GAAM,MAAOA,EAE3B,KAAK,GADDC,GAAQC,EACHC,EAAI,EAAGC,EAASb,UAAUa,OAAQD,EAAIC,EAAQD,IAAK,CACxDF,EAASV,UAAUY,EACnB,KAAKD,IAAQD,GACTD,EAAIE,GAAQD,EAAOC,GAG3B,MAAOF,KH8HL,SAAUnC,EAAQD,GAEvB,YAEA,IAAIyC,GAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUP,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXM,SAAyBN,EAAIQ,cAAgBF,QAAUN,IAAQM,OAAOhB,UAAY,eAAkBU,GI9IvQnC,GAAOD,QAAU,SAAkBoC,GAC/B,GAAIS,GAAA,mBAAcT,GAAd,YAAAK,EAAcL,EAClB,SAASA,IAAiB,aAATS,GAAgC,WAATA,KJqJtC,SAAU5C,EAAQD,EAASH,GAEhC,YKzJD,IAAIiD,GAASjD,EAAQ,EAErBI,GAAOD,QAAU,WACb,GAAIgB,MAAUG,MAAMf,KAAKuB,UAEzB,OADAX,GAAK+B,YACED,EAAO1B,MAAM4B,KAAMhC,KLgKxB,SAAUf,EAAQD,GAEvB,YMpKDuB,QAAO0B,iBAAiB,QAAS,SAACC,GAC9B3B,OAAO4B,UAAY5B,OAAO4B,aAE1B,IAAIC,GAAOF,EAAEG,MAEb,GAAG,CACC,GAAMC,GAAWF,EAAKG,aAAa,4BACnC,IAAID,EACA,IAMI,GAAME,GAAQC,KAAKC,MAAMJ,EACzB/B,QAAO4B,UAAU3B,KAAKgC,GACxB,MAAON,GACLjB,QAAQ0B,MAAM,8BAA+BL,EAAUF,GAG/DA,EAAOA,EAAKQ,iBACPR,GAAQA,EAAKG,iBN8KpB,SAAUtD,EAAQD,GAEvB,YOtMD,SAAS6D,GAAI/C,GACTgD,EAAgBtC,KAAKV,GAGzB,QAASiD,KACLxC,OAAO4B,UAAY5B,OAAO4B,cAC1B5B,OAAO4B,UAAU3B,MACbwC,mBAAoBF,IAGxBA,KAZJ,GAAIA,KAeJ7D,GAAOD,SACH6D,IAAKA,EACLE,OAAQA,IP+MN,SAAU9D,EAAQD,GAEvB,YQlOD,IAAIiE,IACAC,GAAI,aACJC,GAAI,aACJC,GAAI,aACJC,GAAI,aACJC,GAAI,aACJC,GAAI,aACJC,GAAI,aACJC,GAAI,aACJC,IAAK,cAGLC,EAAiB,SAAU9C,GAC3B,MAAoB,6BAAbA,GAGP+C,EAA4B,SAAUC,GAEtC,GAAIC,GAAS,GAAIC,QAAO,wBACpBC,EAAUzD,OAAOd,SAASwE,KAAKC,MAAMJ,GACrCK,EAAM,KAEV,IAAIH,EAAS,CACT,GAAIE,GAAQF,EAAQI,KAAK,GACzBD,GAAMD,EAAMpD,MAAM,KAAK,GAG3B,MAAOqD,GAGXlF,GAAOD,QAAU,SAAU6B,GACvB,GAAIsD,GAAMR,EAAe9C,GAAY+C,EAA0BrD,OAAOd,SAASwE,MAAQpD,EAASC,MAAM,KAAKC,KAC3G,OAAOkC,GAAkBkB,IAAQlB,EAAA,MRyO/B,SAAUhE,EAAQD,GAEvB,YS3LD,SAASqF,GAAQC,GACb,MAAOA,KAAQ,GAAKA,GAAKC,cAjF7B,GAAIpC,GAAa5B,OAAO4B,UAAY5B,OAAO4B,cACvCqC,EAAmBjE,OAAOd,SAASwE,KAAKtE,QAAQ,yBAA2B,CAE/EV,GAAOD,SACHyF,cAAe,QAAAA,GAAUC,GAyCrB,QAASD,MACL,SAAWE,EAAGC,EAAGC,EAAGC,EAAGvD,GACnBoD,EAAEG,GAAKH,EAAEG,OACTH,EAAEG,GAAGtE,MAAOuE,aAAa,GAAIC,OAAOC,UAAWC,MAAO,UACtD,IAAIC,GAAIP,EAAEQ,qBAAqBP,GAAG,GAC9BQ,EAAIT,EAAEU,cAAcT,GACpBU,EAAU,aAALT,EAAmB,MAAQA,EAAI,EACxCO,GAAEG,OAAQ,EACVH,EAAEI,IAAM,wCAA0ClE,EAAIgE,EACtDJ,EAAEvC,WAAW8C,aAAaL,EAAGF,IAC9B5E,OAAQoF,SAAU,SAAU,YAAajB,GAlDhD,GAAIkB,GAA4B,oCAC5BC,EACAF,SAASG,gBAAgBC,UAAUpG,QAAQiG,IAA8B,CAE7E,KAAIC,EAAJ,CAKAF,SAASG,gBAAgBC,WAAa,IAAMH,CAE5C,IAAIzB,GAAM5D,OAAOd,SAASoB,SAASC,MAAM,KAAKC,KAC9C,IAAY,OAARoD,GAAgB5D,OAAOyF,SAAU,CACjC,GAAMC,GAAW,SAACC,EAAQC,IAClBA,GAAmC,aAAvBD,EAAOE,aAAqD,uBAAvBF,EAAOE,cACxD7F,OAAOyF,SAAS,sBAAuB,EAAG,aAAUE,EAAOG,YAC3DL,SAAS,YAAa,EAAG,SAAUE,EAAQC,GAEnCA,GACAD,EAAOI,QAAQC,SAAS,IACxBL,EAAOI,QAAQC,SAAS,IACxBL,EAAOI,QAAQC,SAAS,IACxBL,EAAOI,QAAQC,SAAS,IACxBL,EAAOI,QAAQC,SAAS,IACxBL,EAAOI,QAAQC,SAAS,IACxBL,EAAOI,QAAQC,SAAS,IACxBL,EAAOI,QAAQC,SAAS,IACxBL,EAAOI,QAAQC,SAAS,IACxBL,EAAOI,QAAQC,SAAS,KAExB9B,OAKhBlE,QAAOyF,SAAS,mBAAoB,EAAGC,OAEvCxB,OAiBRjE,KAAM,WACF,GAAKG,UAAUa,OAAf,CAIA,GAAIxB,MAAUG,MAAMf,KAAKuB,UAEzBX,GAAKwG,IAAI,SAAU1G,GACf,IAAK,GAAI2G,KAAO3G,GACP0E,GAAyC,gBAAd1E,GAAK2G,KACjC3G,EAAK2G,GAAOpC,EAAQvE,EAAK2G,IAIjC,OAAO3G,KAGXqC,EAAU3B,KAAKJ,MAAM+B,EAAWnC,OT0QlC,SAAUf,EAAQD,EAASH,GAEhC,YUhVD,SAASqB,GAAYwG,GACjBC,EAAWD,EAGf,QAASE,GAAqB9G,GAC1B,GAAI+G,GAAiBC,KAAUH,EAAU7G,EAEzC,MACK+G,GACAA,EAAeE,SACfF,EAAeG,QACfH,EAAeI,UACfJ,EAAeK,QACfL,EAAeM,aAClB,CACE,GAAmC,SAA/BN,EAAeM,aAAyD,SAA/BN,EAAeM,YACxD,KAAM,IAAIC,OAAM,6BAA+B3E,KAAK4E,UAAUR,GAElE,MAAM,IAAIO,OAAM,uBAAyB3E,KAAK4E,UAAUR,IAG5D,GAAIS,IACAT,EAAeE,QACfF,EAAeG,OACfH,EAAeI,SACfJ,EAAeU,MACfV,EAAeK,QAEdM,OAAO,SAAUC,GACd,MAAOA,KAEVrD,KAAK,IAENyC,GAAea,QACfJ,GAAkB,IAAMT,EAAea,MAG3C,IAAIC,IACAC,eAAgBf,EAAeE,QAC/Bc,cAAehB,EAAeG,OAC9Bc,gBAAiBjB,EAAeI,SAChCc,cAAelB,EAAeK,OAC9Bc,gBAAiBV,EACjBW,mBAAoBpB,EAAeM,YAEnCe,gBAAiBrB,EAAesB,UAAY,GAC5CC,aAAcvB,EAAeU,OAAS,GACtCc,aAAcxB,EAAea,OAAS,GACtCY,iBAAkBzB,EAAe0B,WAAa,GAE9CC,iBAAkB3B,EAAe4B,WAAa,GAC9CC,cAAe7B,EAAe8B,QAAU,GAExCC,iBAAkB/B,EAAegC,WAAa,GAGlD,OAAOlB,GAGX,QAASmB,GAAWC,GACZA,EAAOC,eAAiBD,EAAOE,YAC/BhJ,EAAIO,MACA0E,MAAO,gBACPgE,eAAgBH,EAAOC,cACvBG,aAAcJ,EAAOE,YACrBG,YAAaL,EAAOM,YAAc,GAClCC,uBAAuB,KAI3BrJ,EAAIO,KAAKoG,EAAqBmC,IAC9B9I,EAAIO,MACA0E,MAAO,WAOnB,QAASqE,GAAczJ,GACf0J,GACAvJ,EAAIO,KAAKiJ,GAGbxJ,EAAIO,KAAKoG,EAAqB9G,IAE9B4J,WAAW,WACHF,GACAvJ,EAAIwE,cAAcC,GAClBzE,EAAIO,MACA0E,MAAO,sBAEXjF,EAAIO,MACA0E,MAAO,eAEXsE,GAAgB,GAEhBvJ,EAAIO,MACA0E,MAAO,cAGhB,IA7GP,GAMIyB,GANAG,EAAQjI,EAAQ,GAEhBoB,EAAMpB,EAAQ,GACd6F,EAAc7F,EAAQ,GAAuBY,SAASoB,UACtD4I,EAAW5K,EAAQ,GAiFnB2K,GAAgB,CA2BpBvK,GAAOD,SACHkB,YAAaA,EACb4I,WAAYA,EAEZa,IAAK1J,EAAIO,KACToJ,SAAUL,EACVM,MAAOf,IVgVL,SAAU7J,EAAQD,GAEvB,YWxcD,IAAI8K,GAAgBC,KAAKC,IAAIrE,SAASG,gBAAgBmE,YAAa1J,OAAO2J,YAAcC,OAAOC,MAE/FnL,GAAOD,SACHqL,iBAAkBP,GAAiB,IAAM,IAAMA,GAAiB,IAAM,IAAMA,GAAiB,IAAM,IAAM,OX+cvG,SAAU7K,EAAQD,GAEvB,YYlcD,SAAS4K,KACLU,EAAW,iCAAiCC,KAAK,WAC7ChK,OAAOiK,UACHC,GAAIC,EAAW,WAAa,QAC5BC,IAAI,WAAW3D,EAAX,IAAqBC,GAAW1C,cACpCqG,GAAIF,EAAW,KAAO,KACtBG,GAAI,IAGRC,IAAIxL,EAAEiB,OAAOiK,SAAU,KAI/B,QAASO,KACLT,EAAW,iCAAiCC,KAAK,WAC7ChK,OAAOiK,UACHC,GAAIC,EAAW,WAAa,QAC5BC,IAAI,WAAW3D,EAAX,SAAyBzC,cAC7BqG,GAAI,KACJC,GAAI,IAGRC,IAAIxL,EAAEiB,OAAOiK,SAAU,KAI/B,QAASQ,KACLV,EAAW,iCAAiCC,KAAK,WAC7ChK,OAAOiK,UACHC,GAAIC,EAAW,WAAa,QAC5BC,IAAI,WAAW3D,EAAX,IAAqBC,GAAW1C,cACpCqG,GAAIF,EAAW,KAAO,KACtBG,GAAI,IAGRC,IAAIxL,EAAEiB,OAAOiK,SAAU,KAI/B,QAASF,GAAW7E,GAChB,MAAO,IAAIwF,SAAQ,SAACC,GAChB,GAAMC,GAASxF,SAASL,cAAc,UAChC8F,EAAMzF,SAASP,qBAAqB,UAAU,EACpDgG,GAAIxI,WAAW8C,aAAayF,EAAQC,GACpCD,EAAOE,OAASH,EAChBC,EAAO1F,IAAMA,IA/DrB,GAAMiF,GAAWnK,OAAO2J,WAAa,IAE/BlD,EAAU,WACZ,IACI,MAAOrB,UAAS2F,cAAc,gCAAgC/I,aAAa,UAC7E,MAAOL,GACL,MAAO,SAIT+E,EAAY,WACd,IACI,MAAOtB,UAAS2F,cAAc,gCAAgC/I,aAAa,YAC7E,MAAOL,GACL,MAAO,QAuDf,IAFAyD,SAAS1D,iBAAiB,qBAAsB,SAACC,GAAD,MAAO0H,OAEnDrJ,OAAOd,SAAS8L,SAASC,WAAW,aACpC,IACI7F,SAAS2F,cAAc,iBAAiBrJ,iBAAiB,sBAAuB,SAACC,GAAD,MAAO8I,OACzF,MAAO9I,IAGb,GAAMuJ,GAA0C,MAA7BlL,OAAOd,SAAS8L,UAAiD,cAA7BhL,OAAOd,SAAS8L,SAKjEG,EAAuB,4BAA4BC,KAAKpL,OAAOd,SAAS8L,SAE1EE,GACAV,IACQW,GACR9B,KZ+dE,SAAU3K,EAAQD,GAEvB,Ya9hBD,SAAS4M,KACLtB,EAAW,sCAAsCC,KAAK,WAC/ChK,OAAOuK,MAENvK,OAAOsL,WACHC,GAAI,KACJrB,GAAI,kBACJE,GAAI,oCACJC,GAAI,KACJmB,GAAI,OAERjB,IAAIxL,EAAEiB,OAAOsL,UAAU,MAKnC,QAASG,KACL1B,EAAW,sCAAsCC,KAAK,WAC/ChK,OAAOuK,MAENvK,OAAOsL,WACHC,GAAI,KACJrB,GAAI,kBACJE,GAAIsB,EACJrB,GAAI,KACJmB,GAAI,OAERjB,IAAIxL,EAAEiB,OAAOsL,UAAU,MAKnC,QAASvB,GAAW7E,GAChB,MAAO,IAAIwF,SAAQ,SAACC,GAChB,GAAMC,GAASxF,SAASL,cAAc,UAChC8F,EAAMzF,SAASP,qBAAqB,UAAU,EACpDgG,GAAIxI,WAAW8C,aAAayF,EAAQC,GACpCD,EAAOE,OAASH,EAChBC,EAAO1F,IAAMA,IA9DrB,GAAMyG,GAAO3L,OAAOd,SAAS8L,SACvBU,EAAa,WACf,QAAO,GACH,IAAKlI,QAAO,OAAQ4H,KAAKO,GACrB,MAAO,2BAEX,KAAKnI,QAAO,8FAAqG4H,KAAKO,GAClH,MAAO,6BAEX,KAAKnI,QAAO,wBAA0B4H,KAAKO,GACvC,MAAO,mCAEX,KAAKnI,QAAO,qCAAwC4H,KAAKO,GACrD,MAAO,mCAEX,KAAKnI,QAAO,iBAAkB4H,KAAKO,GAC/B,MAAO,6DAEX,SACI,MAAO,oBAgDbC,EAAeD,EAAKV,WAAW,cAAkG,WAAlF7F,SAAS2F,cAAc,gCAAgC/I,aAAa,SAGzH,IAAI4J,EAAc,CACdP,GAEA,KACIjG,SAAS2F,cAAc,iBAAiBrJ,iBAAiB,sBAAuB,SAACC,GAAD,MAAO0J,OACzF,MAAM1J,SAIS,kBAAd+J,GACCD,Kb4jBF,SAAU/M,EAAQD,GAEvB,YAEA,IAAIoN,GAAWC,OAAOC,QAAU,SAAUjK,GAAU,IAAK,GAAId,GAAI,EAAGA,EAAIZ,UAAUa,OAAQD,IAAK,CAAE,GAAIF,GAASV,UAAUY,EAAI,KAAK,GAAIkF,KAAOpF,GAAcgL,OAAO3L,UAAU6L,eAAenN,KAAKiC,EAAQoF,KAAQpE,EAAOoE,GAAOpF,EAAOoF,IAAY,MAAOpE,IchpBpPmK,EAAeJ,EAAcC,OAAOI,OAAOC,YAAYhM,YACvDiM,OAAO,EACPC,kBAAmB,MAAO,QAAS,YACnCC,gBAAiB,MAAO,YACxBC,eAAgB,OAAQ,SAAU,sBAAuB,8BAEzDC,iBANmE,WAMhD,GAAAC,GAAAhL,KACXiL,EAASjL,KAAKkL,0BACdrL,EAAOG,KAAKO,aAAa,QACzB4K,EAASnL,KAAKO,aAAa,UAC3BvC,GAAQ6B,EAAMsL,EAEdd,QAAOe,KAAKH,GAAQzL,OAAS,GAC7BxB,EAAKQ,KAAKyM,GAGD,aAATpL,GACA7B,EAAKqN,OAAO,EAAG,EAGnB,IAAIC,GAActL,KAAKO,aAAa,6BACpC,IAAI+K,EAGA,IAAK,GAFDC,GAAW5H,SAAS6H,iBAAiBF,GAEhC/L,EAAI,EAAGA,EAAIgM,EAAS/L,OAAQD,IACjCgM,EAAShM,GAAGU,iBAAiB,QAAS,iBAAM+K,GAAKS,MAAMzN,SAG3DgC,MAAKyL,MAAMzN,IAInBkN,wBAhCmE,WAgCzC,GAAAQ,GAAA1L,KAClB2L,EAAgB3L,KAAKO,aAAa,uBAClC0K,EAASU,EAAgBlL,KAAKC,MAAMiL,KAExC,OAAIlN,OAAMmN,QAAQX,GACPA,EAGJxM,MAAMC,UAAUP,MAClBf,KAAK4C,KAAK6L,YACVrG,OAAO,SAACsG,GAAD,QAAeJ,EAAKZ,cAAcnN,QAAQmO,EAAQC,WAAY,KACrEC,OAAO,SAACC,EAAMC,GACX,GAAIC,GAAWT,EAAKU,oBAAoBF,EAAKH,SAE7C,OADAE,GAAKE,GAAYD,EAAKG,UACfJ,GACRhB,IAGXmB,oBAlDmE,SAkD/CD,GAMhB,MALIA,GAASxO,QAAQ,MAAO,IACxBwO,EAAWA,EAASG,QAAQ,YAAa,SAAUC,GAC/C,MAAOA,GAAE,GAAGC,iBAGbL,GAGXV,MA3DmE,SA2D7DzN,GACEgC,KAAK2K,MACL1L,QAAQC,IAAIlB,IAEZO,OAAOD,GAAKC,OAAOD,OACnBC,OAAOD,GAAGE,KAAKR,MAK3B,KACI,GAAIyO,GAAO9I,SAASL,cAAc,iBAAiB1D,WAC/C6M,KAAS/B,aAAe+B,IAASC,oBACjC/I,SAASgJ,gBAAgB,iBACrBjO,UAAW8L,IAGrB,MAAOtK,GACD3B,QAAUA,OAAOU,SACjBV,OAAOU,QAAQ2N,KAAK,oDAAqD1M","file":"./dist/index.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar trackingEnabled = location.hash.indexOf('tracking-off=true') < 0;\n\t\n\tvar startTracking = function startTracking() {\n\t    var gtm = __webpack_require__(8);\n\t    var dealerGtm = __webpack_require__(5);\n\t\n\t    function processCommand(data) {\n\t        var fn, args;\n\t\n\t        if (data[0] === 'pagename') {\n\t            gtm.setPagename(data[1]);\n\t        }\n\t\n\t        if (data[0] === 'gtm') {\n\t            fn = gtm[data[1]];\n\t            args = data.slice(2);\n\t            if (typeof fn === 'function') {\n\t                fn.apply(gtm, args);\n\t            }\n\t        } else if (data[0] === 'dealer-gtm') {\n\t            fn = dealerGtm[data[1]];\n\t            args = data.slice(2);\n\t            if (typeof fn === 'function') {\n\t                fn.apply(dealerGtm, args);\n\t            }\n\t        }\n\t    }\n\t\n\t    var ut = window.ut || (window.ut = []);\n\t\n\t    if (ut.push === Array.prototype.push) {\n\t        ut.push = function () {\n\t            Array.prototype.push.apply(window.ut, arguments);\n\t            processCommand.apply({}, arguments);\n\t        };\n\t\n\t        ut.forEach(processCommand);\n\t    }\n\t\n\t    __webpack_require__(12);\n\t\n\t    module.exports = {\n\t        gtm: gtm,\n\t        ut: ut\n\t    };\n\t};\n\t\n\t__webpack_require__(4);\n\t\n\tif (window.location.hostname.split('.').pop() === 'de') {\n\t    __webpack_require__(10);\n\t}\n\t\n\tif (window.location.hostname.split('.').pop() === 'at') {\n\t    __webpack_require__(11);\n\t}\n\t\n\tvar run = function run() {\n\t    if (!trackingEnabled) {\n\t        console.log('Tracking disabled');\n\t        return;\n\t    }\n\t\n\t    startTracking();\n\t};\n\t\n\trun();\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar isObject = __webpack_require__(2);\n\t\n\tmodule.exports = function (obj) {\n\t    if (!isObject(obj)) return obj;\n\t    var source, prop;\n\t    for (var i = 1, length = arguments.length; i < length; i++) {\n\t        source = arguments[i];\n\t        for (prop in source) {\n\t            obj[prop] = source[prop];\n\t        }\n\t    }\n\t    return obj;\n\t};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tmodule.exports = function isObject(obj) {\n\t    var type = typeof obj === 'undefined' ? 'undefined' : _typeof(obj);\n\t    return !!obj && (type === 'function' || type === 'object');\n\t};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar extend = __webpack_require__(1);\n\t\n\tmodule.exports = function merge() {\n\t    var args = [].slice.call(arguments);\n\t    args.unshift({});\n\t    return extend.apply(this, args);\n\t};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\t// TODO: this is an experimental feature.\n\t// If this works well, we have to document it.\n\t\n\twindow.addEventListener('click', function (e) {\n\t    window.dataLayer = window.dataLayer || [];\n\t\n\t    var node = e.target;\n\t\n\t    do {\n\t        var rawValue = node.getAttribute('data-click-datalayer-push');\n\t        if (rawValue) {\n\t            try {\n\t                // TODO: Check if we can use something like `eval` but more secure to allow JS style objects\n\t                // aka. objects without quotes around key names or some computation inside\n\t                // e.g. { event: \"event_trigger\", event_category: \"category\", event_action: \"action\" }\n\t                // Don't use `eval` or `new Function(...)` directly because they execute anything => XSS attack\n\t\n\t                var value = JSON.parse(rawValue);\n\t                window.dataLayer.push(value);\n\t            } catch (e) {\n\t                console.error('Cannot parse tracking value', rawValue, node);\n\t            }\n\t        }\n\t        node = node.parentNode;\n\t    } while (node && node.getAttribute);\n\t});\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar currentVehicles = [];\n\t\n\tfunction add(data) {\n\t    currentVehicles.push(data);\n\t}\n\t\n\tfunction commit() {\n\t    window.dataLayer = window.dataLayer || [];\n\t    window.dataLayer.push({\n\t        list_productidsall: currentVehicles\n\t    });\n\t\n\t    currentVehicles = [];\n\t}\n\t\n\tmodule.exports = {\n\t    add: add,\n\t    commit: commit\n\t};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar containerIdsByTld = {\n\t    de: 'GTM-MK57H2',\n\t    at: 'GTM-WBZ87G',\n\t    be: 'GTM-5BWB2M',\n\t    lu: 'GTM-NDBDCZ',\n\t    es: 'GTM-PS6QHN',\n\t    fr: 'GTM-PD93LD',\n\t    it: 'GTM-WTCSNR',\n\t    nl: 'GTM-TW48BJ',\n\t    com: 'GTM-KWX9NX'\n\t};\n\t\n\tvar isIdentityPage = function isIdentityPage(hostname) {\n\t    return hostname === \"accounts.autoscout24.com\";\n\t};\n\t\n\tvar extractTldFromRedirectUrl = function extractTldFromRedirectUrl(url) {\n\t    // search for ui_locales=xx in URL\n\t    var regexp = new RegExp(/ui_locales=([a-z]+)/g);\n\t    var matches = window.location.href.match(regexp);\n\t    var tld = 'com';\n\t\n\t    if (matches) {\n\t        var match = matches.join(''); // i.e. ui_locales=de\n\t        tld = match.split('=')[1];\n\t    }\n\t\n\t    return tld;\n\t};\n\t\n\tmodule.exports = function (hostname) {\n\t    var tld = isIdentityPage(hostname) ? extractTldFromRedirectUrl(window.location.href) : hostname.split('.').pop();\n\t    return containerIdsByTld[tld] || containerIdsByTld['com'];\n\t};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar dataLayer = window.dataLayer = window.dataLayer || [];\n\tvar useNewArrayLogic = window.location.href.indexOf('tracking-arrays=true') >= 0;\n\t\n\tmodule.exports = {\n\t    loadContainer: function loadContainer(containerId) {\n\t        var gtmAlreadyLoadedClassName = 'gtm-main-container-load-initiated';\n\t        var alreadyInitiatedMainGtmContainerLoaded = document.documentElement.className.indexOf(gtmAlreadyLoadedClassName) >= 0;\n\t\n\t        if (alreadyInitiatedMainGtmContainerLoaded) {\n\t            // preventing duplicated load of main GTM container\n\t            return;\n\t        }\n\t\n\t        document.documentElement.className += ' ' + gtmAlreadyLoadedClassName;\n\t\n\t        var tld = window.location.hostname.split('.').pop();\n\t        if (tld === 'nl' && window.__tcfapi) {\n\t            var callback = function callback(tcData, success) {\n\t                if (success && (tcData.eventStatus === 'tcloaded' || tcData.eventStatus === 'useractioncomplete')) {\n\t                    window.__tcfapi('removeEventListener', 2, function () {}, tcData.listenerId);\n\t                    __tcfapi('getTCData', 2, function (tcData, success) {\n\t                        if (success && tcData.purpose.consents[1] && tcData.purpose.consents[2] && tcData.purpose.consents[3] && tcData.purpose.consents[4] && tcData.purpose.consents[5] && tcData.purpose.consents[6] && tcData.purpose.consents[7] && tcData.purpose.consents[8] && tcData.purpose.consents[9] && tcData.purpose.consents[10]) {\n\t                            loadContainer();\n\t                        }\n\t                    });\n\t                }\n\t            };\n\t            window.__tcfapi('addEventListener', 2, callback);\n\t        } else {\n\t            loadContainer();\n\t        }\n\t\n\t        function loadContainer() {\n\t            (function (w, d, s, l, i) {\n\t                w[l] = w[l] || [];\n\t                w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });\n\t                var f = d.getElementsByTagName(s)[0],\n\t                    j = d.createElement(s),\n\t                    dl = l != 'dataLayer' ? '&l=' + l : '';\n\t                j.async = true;\n\t                j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;\n\t                f.parentNode.insertBefore(j, f);\n\t            })(window, document, 'script', 'dataLayer', containerId);\n\t        }\n\t    },\n\t\n\t    push: function push() {\n\t        if (!arguments.length) {\n\t            return;\n\t        }\n\t\n\t        var args = [].slice.call(arguments);\n\t\n\t        args.map(function (data) {\n\t            for (var key in data) {\n\t                if (!useNewArrayLogic || typeof data[key] === 'string') {\n\t                    data[key] = toLower(data[key]);\n\t                }\n\t            }\n\t\n\t            return data;\n\t        });\n\t\n\t        dataLayer.push.apply(dataLayer, args);\n\t    }\n\t};\n\t\n\tfunction toLower(val) {\n\t    return val && ('' + val).toLowerCase();\n\t}\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar merge = __webpack_require__(3);\n\t\n\tvar gtm = __webpack_require__(7);\n\tvar containerId = __webpack_require__(6)(location.hostname);\n\tvar viewport = __webpack_require__(9);\n\t\n\tvar pagename;\n\t\n\tfunction setPagename(pn) {\n\t    pagename = pn;\n\t}\n\t\n\tfunction generateCommonParams(data) {\n\t    var mergedPagename = merge({}, pagename, data);\n\t\n\t    if (!mergedPagename || !mergedPagename.country || !mergedPagename.market || !mergedPagename.category || !mergedPagename.pageid || !mergedPagename.environment) {\n\t        if (mergedPagename.environment !== 'test' || mergedPagename.environment !== 'live') {\n\t            throw new Error('Invalid environment type, ' + JSON.stringify(mergedPagename));\n\t        }\n\t        throw new Error('Incorrect pagename, ' + JSON.stringify(mergedPagename));\n\t    }\n\t\n\t    var commonPageName = [mergedPagename.country, mergedPagename.market, mergedPagename.category, mergedPagename.group, mergedPagename.pageid].filter(function (x) {\n\t        return x;\n\t    }).join('/');\n\t\n\t    if (mergedPagename.layer) {\n\t        commonPageName += '|' + mergedPagename.layer;\n\t    }\n\t\n\t    var commonData = {\n\t        common_country: mergedPagename.country,\n\t        common_market: mergedPagename.market,\n\t        common_category: mergedPagename.category,\n\t        common_pageid: mergedPagename.pageid,\n\t        common_pageName: commonPageName,\n\t        common_environment: mergedPagename.environment,\n\t\n\t        common_language: mergedPagename.language || '',\n\t        common_group: mergedPagename.group || '',\n\t        common_layer: mergedPagename.layer || '',\n\t        common_attribute: mergedPagename.attribute || '',\n\t\n\t        common_linkgroup: mergedPagename.linkgroup || '',\n\t        common_linkid: mergedPagename.linkid || '',\n\t\n\t        common_techState: mergedPagename.techState || ''\n\t    };\n\t\n\t    return commonData;\n\t}\n\t\n\tfunction trackClick(params) {\n\t    if (params.eventcategory && params.eventaction) {\n\t        gtm.push({\n\t            event: 'event_trigger',\n\t            event_category: params.eventcategory,\n\t            event_action: params.eventaction,\n\t            event_label: params.eventlabel || '',\n\t            event_non_interaction: false\n\t        });\n\t    } else {\n\t        //DEPRECATED\n\t        gtm.push(generateCommonParams(params));\n\t        gtm.push({\n\t            event: 'click'\n\t        });\n\t    }\n\t}\n\t\n\tvar firstPageview = true;\n\t\n\tfunction trackPageview(data) {\n\t    if (firstPageview) {\n\t        gtm.push(viewport);\n\t    }\n\t\n\t    gtm.push(generateCommonParams(data));\n\t\n\t    setTimeout(function () {\n\t        if (firstPageview) {\n\t            gtm.loadContainer(containerId);\n\t            gtm.push({\n\t                event: 'common_data_ready'\n\t            });\n\t            gtm.push({\n\t                event: 'data_ready'\n\t            });\n\t            firstPageview = false;\n\t        } else {\n\t            gtm.push({\n\t                event: 'pageview'\n\t            });\n\t        }\n\t    }, 10);\n\t}\n\t\n\tmodule.exports = {\n\t    setPagename: setPagename,\n\t    trackClick: trackClick,\n\t\n\t    set: gtm.push,\n\t    pageview: trackPageview,\n\t    click: trackClick\n\t};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar viewportWidth = Math.min(document.documentElement.clientWidth, window.innerWidth || screen.width);\n\t\n\tmodule.exports = {\n\t    session_viewport: viewportWidth >= 994 ? 'l' : viewportWidth >= 768 ? 'm' : viewportWidth >= 480 ? 's' : 'xs'\n\t};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar isMobile = window.innerWidth < 789;\n\t\n\tvar market = function () {\n\t    try {\n\t        return document.querySelector('as24-tracking[type=pagename]').getAttribute('market');\n\t    } catch (e) {\n\t        return 'vm';\n\t    }\n\t}();\n\t\n\tvar category = function () {\n\t    try {\n\t        return document.querySelector('as24-tracking[type=pagename]').getAttribute('category');\n\t    } catch (e) {\n\t        return 'uc';\n\t    }\n\t}();\n\t\n\tfunction pageview() {\n\t    loadScript('https://script.ioam.de/iam.js').then(function () {\n\t        window.iam_data = {\n\t            st: isMobile ? 'mobaus24' : 'aus24',\n\t            cp: ('as24/de/' + market + '/' + category).toLowerCase(),\n\t            sv: isMobile ? 'mo' : 'i2',\n\t            co: ''\n\t        };\n\t\n\t        iom.c(window.iam_data, 1);\n\t    });\n\t}\n\t\n\tfunction home() {\n\t    loadScript('https://script.ioam.de/iam.js').then(function () {\n\t        window.iam_data = {\n\t            st: isMobile ? 'mobaus24' : 'aus24',\n\t            cp: ('as24/de/' + market + '/home').toLowerCase(),\n\t            sv: 'ke',\n\t            co: ''\n\t        };\n\t\n\t        iom.c(window.iam_data, 1);\n\t    });\n\t}\n\t\n\tfunction detailGallery() {\n\t    loadScript('https://script.ioam.de/iam.js').then(function () {\n\t        window.iam_data = {\n\t            st: isMobile ? 'mobaus24' : 'aus24',\n\t            cp: ('as24/de/' + market + '/' + category).toLowerCase(),\n\t            sv: isMobile ? 'mo' : 'i2',\n\t            co: ''\n\t        };\n\t\n\t        iom.c(window.iam_data, 1);\n\t    });\n\t}\n\t\n\tfunction loadScript(src) {\n\t    return new Promise(function (resolve) {\n\t        var script = document.createElement('script');\n\t        var ref = document.getElementsByTagName('script')[0];\n\t        ref.parentNode.insertBefore(script, ref);\n\t        script.onload = resolve;\n\t        script.src = src;\n\t    });\n\t}\n\t\n\tdocument.addEventListener('list-items:changed', function (e) {\n\t    return pageview();\n\t});\n\t\n\tif (window.location.pathname.startsWith('/angebote')) {\n\t    try {\n\t        document.querySelector('as24-carousel').addEventListener('as24-carousel.slide', function (e) {\n\t            return detailGallery();\n\t        });\n\t    } catch (e) {}\n\t}\n\t\n\tvar onHomepage = window.location.pathname === '/' || window.location.pathname === '/motorrad';\n\t\n\t// On the dealer info list page the `list-items:changed` event is fired even on the first pageview.\n\t// This causes the pageview  to be double tracked.\n\t// To prevent this we don't track the real pageview on the dealer info list pages.\n\tvar onDealerInfoListPage = /\\/haendler\\/.+\\/fahrzeuge/.test(window.location.pathname);\n\t\n\tif (onHomepage) {\n\t    home();\n\t} else if (!onDealerInfoListPage) {\n\t    pageview();\n\t}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar path = window.location.pathname;\n\tvar pixelPath = function () {\n\t    switch (true) {\n\t        case RegExp('^\\/$').test(path):\n\t            return 'Service/Homepage/Homepage';\n\t            break;\n\t        case RegExp('(^\\/promo\\/preisbewertung)|(^\\/auto\\-verkaufen)|(^\\/fahrzeugbewertung)|(^\\/promo\\/preisbewertung)').test(path):\n\t            return 'Service/Sonstiges/Sonstiges';\n\t            break;\n\t        case RegExp('(^\\/motorrad)|(^\\/lst)').test(path):\n\t            return 'Service/Rubrikenmaerkte/Automarkt';\n\t            break;\n\t        case RegExp('(^\\/informieren)|(^\\/auto)|(^\\/moto)').test(path):\n\t            return 'RedCont/AutoUndMotor/AutoUndMotor';\n\t            break;\n\t        case RegExp('^\\/unternehmen').test(path):\n\t            return 'Service/Unternehmenskommunikation/Unternehmenskommunikation';\n\t            break;\n\t        default:\n\t            return 'not_available';\n\t            break;\n\t    }\n\t}();\n\t\n\tfunction detailPage() {\n\t    loadScript('https://script-at.iocnt.net/iam.js').then(function () {\n\t        if (window.iom) {\n\t            // OEWA VERSION=\"3.0\" \n\t            window.oewa_data = {\n\t                cn: 'at', // country \n\t                st: 'at_w_atascout24', // sitename \n\t                cp: 'Service/Rubrikenmaerkte/Automarkt', // kategorienpfad  \n\t                sv: 'mo', // die Befragungseinladung wird im mobilen Format ausgespielt \n\t                ps: 'lin' // Privacy setting \n\t            };\n\t            iom.c(window.oewa_data, 1);\n\t        }\n\t    });\n\t}\n\t\n\tfunction allPages() {\n\t    loadScript('https://script-at.iocnt.net/iam.js').then(function () {\n\t        if (window.iom) {\n\t            // OEWA VERSION=\"3.0\" \n\t            window.oewa_data = {\n\t                cn: 'at', // country \n\t                st: 'at_w_atascout24', // sitename \n\t                cp: pixelPath, // kategorienpfad \n\t                sv: 'mo', // die Befragungseinladung wird im mobilen Format ausgespielt \n\t                ps: 'lin' // Privacy setting \n\t            };\n\t            iom.c(window.oewa_data, 1);\n\t        }\n\t    });\n\t}\n\t\n\tfunction loadScript(src) {\n\t    return new Promise(function (resolve) {\n\t        var script = document.createElement('script');\n\t        var ref = document.getElementsByTagName('script')[0];\n\t        ref.parentNode.insertBefore(script, ref);\n\t        script.onload = resolve;\n\t        script.src = src;\n\t    });\n\t}\n\t\n\tvar onDetailPage = path.startsWith('/angebote') && document.querySelector('as24-tracking[type=pagename]').getAttribute('pageid') === 'detail';\n\t\n\tif (onDetailPage) {\n\t    detailPage();\n\t\n\t    try {\n\t        document.querySelector('as24-carousel').addEventListener('as24-carousel.slide', function (e) {\n\t            return detailPage();\n\t        });\n\t    } catch (e) {}\n\t} else {\n\t    if (pixelPath !== 'not_available') {\n\t        allPages();\n\t    }\n\t}\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar as24tracking = _extends(Object.create(HTMLElement.prototype), {\n\t    inDev: false,\n\t    supportedActions: ['set', 'click', 'pageview'],\n\t    supportedTypes: ['gtm', 'pagename'],\n\t    reservedWords: ['type', 'action', 'as24-tracking-value', 'as24-tracking-click-target'],\n\t\n\t    attachedCallback: function attachedCallback() {\n\t        var _this = this;\n\t\n\t        var values = this.getAdditionalProperties();\n\t        var type = this.getAttribute('type');\n\t        var action = this.getAttribute('action');\n\t        var args = [type, action];\n\t\n\t        if (Object.keys(values).length > 0) {\n\t            args.push(values);\n\t        }\n\t\n\t        if (type === 'pagename') {\n\t            args.splice(1, 1);\n\t        }\n\t\n\t        var clickTarget = this.getAttribute('as24-tracking-click-target');\n\t        if (clickTarget) {\n\t            var elements = document.querySelectorAll(clickTarget);\n\t\n\t            for (var i = 0; i < elements.length; i++) {\n\t                elements[i].addEventListener('click', function () {\n\t                    return _this.track(args);\n\t                });\n\t            }\n\t        } else {\n\t            this.track(args);\n\t        }\n\t    },\n\t    getAdditionalProperties: function getAdditionalProperties() {\n\t        var _this2 = this;\n\t\n\t        var trackingValue = this.getAttribute('as24-tracking-value');\n\t        var values = trackingValue ? JSON.parse(trackingValue) : {};\n\t\n\t        if (Array.isArray(values)) {\n\t            return values;\n\t        }\n\t\n\t        return Array.prototype.slice.call(this.attributes).filter(function (element) {\n\t            return !(_this2.reservedWords.indexOf(element.nodeName) > -1);\n\t        }).reduce(function (prev, curr) {\n\t            var attrName = _this2.decodeAttributeName(curr.nodeName);\n\t            prev[attrName] = curr.nodeValue;\n\t            return prev;\n\t        }, values);\n\t    },\n\t    decodeAttributeName: function decodeAttributeName(attrName) {\n\t        if (attrName.indexOf('-') > -1) {\n\t            attrName = attrName.replace(/-([a-z])/g, function (g) {\n\t                return g[1].toUpperCase();\n\t            });\n\t        }\n\t        return attrName;\n\t    },\n\t    track: function track(args) {\n\t        if (this.inDev) {\n\t            console.log(args);\n\t        } else {\n\t            window.ut = window.ut || [];\n\t            window.ut.push(args);\n\t        }\n\t    }\n\t});\n\t\n\ttry {\n\t    var ctor = document.createElement('as24-tracking').constructor;\n\t    if (ctor === HTMLElement || ctor === HTMLUnknownElement) {\n\t        document.registerElement('as24-tracking', {\n\t            prototype: as24tracking\n\t        });\n\t    }\n\t} catch (e) {\n\t    if (window && window.console) {\n\t        window.console.warn('Failed to register CustomElement \"as24-tracking\".', e);\n\t    }\n\t}\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// dist/index.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4a07a56ee7b4bc6f5ed6","const trackingEnabled = location.hash.indexOf('tracking-off=true') < 0;\n\nconst startTracking = () => {\n    var gtm = require('./gtm');\n    var dealerGtm = require('./dealer-gtm');\n\n    function processCommand(data) {\n        var fn, args;\n\n        if (data[0] === 'pagename') {\n            gtm.setPagename(data[1]);\n        }\n\n        if (data[0] === 'gtm') {\n            fn = gtm[data[1]];\n            args = data.slice(2);\n            if (typeof fn === 'function') {\n                fn.apply(gtm, args);\n            }\n        } else if (data[0] === 'dealer-gtm') {\n            fn = dealerGtm[data[1]];\n            args = data.slice(2);\n            if (typeof fn === 'function') {\n                fn.apply(dealerGtm, args);\n            }\n        }\n    }\n\n    var ut = window.ut || (window.ut = []);\n\n    if (ut.push === Array.prototype.push) {\n        ut.push = function () {\n            Array.prototype.push.apply(window.ut, arguments);\n            processCommand.apply({}, arguments);\n        };\n\n        ut.forEach(processCommand);\n    }\n\n    require('./trackingElement');\n\n    module.exports = {\n        gtm: gtm,\n        ut: ut,\n    };\n};\n\nrequire('./clickTrackingAttributes.js');\n\nif (window.location.hostname.split('.').pop() === 'de') {\n    require('./ivw');\n}\n\nif (window.location.hostname.split('.').pop() === 'at') {\n    require('./oewa');\n}\n\nconst run = () => {\n    if (!trackingEnabled) {\n        console.log('Tracking disabled');\n        return;\n    }\n\n    startTracking();\n};\n\nrun();\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","var isObject = require('amp-is-object');\n\n\nmodule.exports = function(obj) {\n    if (!isObject(obj)) return obj;\n    var source, prop;\n    for (var i = 1, length = arguments.length; i < length; i++) {\n        source = arguments[i];\n        for (prop in source) {\n            obj[prop] = source[prop];\n        }\n    }\n    return obj;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/amp-extend/extend.js","module.exports = function isObject(obj) {\n    var type = typeof obj;\n    return !!obj && (type === 'function' || type === 'object');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/amp-is-object/is-object.js","var extend = require('amp-extend');\n\nmodule.exports = function merge() {\n    var args = [].slice.call(arguments);\n    args.unshift({});\n    return extend.apply(this, args);\n};\n\n\n// WEBPACK FOOTER //\n// ./~/amp-merge/merge.js","// TODO: this is an experimental feature.\n// If this works well, we have to document it.\n\nwindow.addEventListener('click', (e) => {\n    window.dataLayer = window.dataLayer || [];\n\n    let node = e.target;\n\n    do {\n        const rawValue = node.getAttribute('data-click-datalayer-push');\n        if (rawValue) {\n            try {\n                // TODO: Check if we can use something like `eval` but more secure to allow JS style objects\n                // aka. objects without quotes around key names or some computation inside\n                // e.g. { event: \"event_trigger\", event_category: \"category\", event_action: \"action\" }\n                // Don't use `eval` or `new Function(...)` directly because they execute anything => XSS attack\n\n                const value = JSON.parse(rawValue);\n                window.dataLayer.push(value);\n            } catch (e) {\n                console.error('Cannot parse tracking value', rawValue, node);\n            }\n        }\n        node = node.parentNode;\n    } while (node && node.getAttribute);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/clickTrackingAttributes.js","var currentVehicles = [];\n\nfunction add(data) {\n    currentVehicles.push(data);\n}\n\nfunction commit() {\n    window.dataLayer = window.dataLayer || [];\n    window.dataLayer.push({\n        list_productidsall: currentVehicles,\n    });\n\n    currentVehicles = [];\n}\n\nmodule.exports = {\n    add: add,\n    commit: commit,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/dealer-gtm.js","var containerIdsByTld = {\n    de: 'GTM-MK57H2',\n    at: 'GTM-WBZ87G',\n    be: 'GTM-5BWB2M',\n    lu: 'GTM-NDBDCZ',\n    es: 'GTM-PS6QHN',\n    fr: 'GTM-PD93LD',\n    it: 'GTM-WTCSNR',\n    nl: 'GTM-TW48BJ',\n    com: 'GTM-KWX9NX',\n};\n\nvar isIdentityPage = function (hostname) {\n    return hostname === \"accounts.autoscout24.com\";\n};\n\nvar extractTldFromRedirectUrl = function (url) {\n    // search for ui_locales=xx in URL\n    var regexp = new RegExp(/ui_locales=([a-z]+)/g);\n    var matches = window.location.href.match(regexp);\n    var tld = 'com';\n\n    if (matches) {\n        var match = matches.join(''); // i.e. ui_locales=de\n        tld = match.split('=')[1];\n    }\n\n    return tld;\n};\n\nmodule.exports = function (hostname) {\n    var tld = isIdentityPage(hostname) ? extractTldFromRedirectUrl(window.location.href) : hostname.split('.').pop();\n    return containerIdsByTld[tld] || containerIdsByTld['com'];\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/getGtmContainerId.js","var dataLayer = (window.dataLayer = window.dataLayer || []);\nvar useNewArrayLogic = window.location.href.indexOf('tracking-arrays=true') >= 0;\n\nmodule.exports = {\n    loadContainer: function (containerId) {\n        var gtmAlreadyLoadedClassName = 'gtm-main-container-load-initiated';\n        var alreadyInitiatedMainGtmContainerLoaded =\n            document.documentElement.className.indexOf(gtmAlreadyLoadedClassName) >= 0;\n\n        if (alreadyInitiatedMainGtmContainerLoaded) {\n            // preventing duplicated load of main GTM container\n            return;\n        }\n\n        document.documentElement.className += ' ' + gtmAlreadyLoadedClassName;\n\n        var tld = window.location.hostname.split('.').pop();\n        if (tld === 'nl' && window.__tcfapi) {\n            const callback = (tcData, success) => {\n                if (success && (tcData.eventStatus === 'tcloaded' || tcData.eventStatus === 'useractioncomplete')) {\n                    window.__tcfapi('removeEventListener', 2, () => {}, tcData.listenerId);\n                    __tcfapi('getTCData', 2, function (tcData, success) {\n                        if (\n                            success &&\n                            tcData.purpose.consents[1] &&\n                            tcData.purpose.consents[2] &&\n                            tcData.purpose.consents[3] &&\n                            tcData.purpose.consents[4] &&\n                            tcData.purpose.consents[5] &&\n                            tcData.purpose.consents[6] &&\n                            tcData.purpose.consents[7] &&\n                            tcData.purpose.consents[8] &&\n                            tcData.purpose.consents[9] &&\n                            tcData.purpose.consents[10]\n                        ) {\n                            loadContainer();\n                        }\n                    });\n                }\n            };\n            window.__tcfapi('addEventListener', 2, callback);\n        } else {\n            loadContainer();\n        }\n\n        function loadContainer() {\n            (function (w, d, s, l, i) {\n                w[l] = w[l] || [];\n                w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });\n                var f = d.getElementsByTagName(s)[0],\n                    j = d.createElement(s),\n                    dl = l != 'dataLayer' ? '&l=' + l : '';\n                j.async = true;\n                j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;\n                f.parentNode.insertBefore(j, f);\n            })(window, document, 'script', 'dataLayer', containerId);\n        }\n    },\n\n    push: function () {\n        if (!arguments.length) {\n            return;\n        }\n\n        var args = [].slice.call(arguments);\n\n        args.map(function (data) {\n            for (var key in data) {\n                if (!useNewArrayLogic || typeof data[key] === 'string') {\n                    data[key] = toLower(data[key]);\n                }\n            }\n\n            return data;\n        });\n\n        dataLayer.push.apply(dataLayer, args);\n    },\n};\n\nfunction toLower(val) {\n    return val && ('' + val).toLowerCase();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/googletagmanager.js","var merge = require('amp-merge');\n\nvar gtm = require('./googletagmanager');\nvar containerId = require('./getGtmContainerId')(location.hostname);\nvar viewport = require('./viewport');\n\nvar pagename;\n\nfunction setPagename(pn) {\n    pagename = pn;\n}\n\nfunction generateCommonParams(data) {\n    var mergedPagename = merge({}, pagename, data);\n\n    if (\n        !mergedPagename ||\n        !mergedPagename.country ||\n        !mergedPagename.market ||\n        !mergedPagename.category ||\n        !mergedPagename.pageid ||\n        !mergedPagename.environment\n    ) {\n        if (mergedPagename.environment !== 'test' || mergedPagename.environment !== 'live') {\n            throw new Error('Invalid environment type, ' + JSON.stringify(mergedPagename));\n        }\n        throw new Error('Incorrect pagename, ' + JSON.stringify(mergedPagename));\n    }\n\n    var commonPageName = [\n        mergedPagename.country,\n        mergedPagename.market,\n        mergedPagename.category,\n        mergedPagename.group,\n        mergedPagename.pageid,\n    ]\n        .filter(function (x) {\n            return x;\n        })\n        .join('/');\n\n    if (mergedPagename.layer) {\n        commonPageName += '|' + mergedPagename.layer;\n    }\n\n    var commonData = {\n        common_country: mergedPagename.country,\n        common_market: mergedPagename.market,\n        common_category: mergedPagename.category,\n        common_pageid: mergedPagename.pageid,\n        common_pageName: commonPageName,\n        common_environment: mergedPagename.environment,\n\n        common_language: mergedPagename.language || '',\n        common_group: mergedPagename.group || '',\n        common_layer: mergedPagename.layer || '',\n        common_attribute: mergedPagename.attribute || '',\n\n        common_linkgroup: mergedPagename.linkgroup || '',\n        common_linkid: mergedPagename.linkid || '',\n\n        common_techState: mergedPagename.techState || '',\n    };\n\n    return commonData;\n}\n\nfunction trackClick(params) {\n    if (params.eventcategory && params.eventaction) {\n        gtm.push({\n            event: 'event_trigger',\n            event_category: params.eventcategory,\n            event_action: params.eventaction,\n            event_label: params.eventlabel || '',\n            event_non_interaction: false,\n        });\n    } else {\n        //DEPRECATED\n        gtm.push(generateCommonParams(params));\n        gtm.push({\n            event: 'click',\n        });\n    }\n}\n\nvar firstPageview = true;\n\nfunction trackPageview(data) {\n    if (firstPageview) {\n        gtm.push(viewport);\n    }\n\n    gtm.push(generateCommonParams(data));\n\n    setTimeout(function () {\n        if (firstPageview) {\n            gtm.loadContainer(containerId);\n            gtm.push({\n                event: 'common_data_ready',\n            });\n            gtm.push({\n                event: 'data_ready',\n            });\n            firstPageview = false;\n        } else {\n            gtm.push({\n                event: 'pageview',\n            });\n        }\n    }, 10);\n}\n\nmodule.exports = {\n    setPagename: setPagename,\n    trackClick: trackClick,\n\n    set: gtm.push,\n    pageview: trackPageview,\n    click: trackClick,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/index.js","var viewportWidth = Math.min(document.documentElement.clientWidth, window.innerWidth || screen.width);\n\nmodule.exports = {\n    session_viewport: viewportWidth >= 994 ? 'l' : viewportWidth >= 768 ? 'm' : viewportWidth >= 480 ? 's' : 'xs',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/viewport.js","const isMobile = window.innerWidth < 789;\n\nconst market = (() => {\n    try {\n        return document.querySelector('as24-tracking[type=pagename]').getAttribute('market');\n    } catch (e) {\n        return 'vm';\n    }\n})();\n\nconst category = (() => {\n    try {\n        return document.querySelector('as24-tracking[type=pagename]').getAttribute('category');\n    } catch (e) {\n        return 'uc';\n    }\n})();\n\nfunction pageview() {\n    loadScript('https://script.ioam.de/iam.js').then(() => {\n        window.iam_data = {\n            st: isMobile ? 'mobaus24' : 'aus24',\n            cp: `as24/de/${market}/${category}`.toLowerCase(),\n            sv: isMobile ? 'mo' : 'i2',\n            co: '',\n        };\n\n        iom.c(window.iam_data, 1);\n    });\n}\n\nfunction home() {\n    loadScript('https://script.ioam.de/iam.js').then(() => {\n        window.iam_data = {\n            st: isMobile ? 'mobaus24' : 'aus24',\n            cp: `as24/de/${market}/home`.toLowerCase(),\n            sv: 'ke',\n            co: '',\n        };\n\n        iom.c(window.iam_data, 1);\n    });\n}\n\nfunction detailGallery() {\n    loadScript('https://script.ioam.de/iam.js').then(() => {\n        window.iam_data = {\n            st: isMobile ? 'mobaus24' : 'aus24',\n            cp: `as24/de/${market}/${category}`.toLowerCase(),\n            sv: isMobile ? 'mo' : 'i2',\n            co: '',\n        };\n\n        iom.c(window.iam_data, 1);\n    });\n}\n\nfunction loadScript(src) {\n    return new Promise((resolve) => {\n        const script = document.createElement('script');\n        const ref = document.getElementsByTagName('script')[0];\n        ref.parentNode.insertBefore(script, ref);\n        script.onload = resolve;\n        script.src = src;\n    });\n}\n\ndocument.addEventListener('list-items:changed', (e) => pageview());\n\nif (window.location.pathname.startsWith('/angebote')) {\n    try {\n        document.querySelector('as24-carousel').addEventListener('as24-carousel.slide', (e) => detailGallery());\n    } catch (e) {}\n}\n\nconst onHomepage = window.location.pathname === '/' || window.location.pathname === '/motorrad';\n\n// On the dealer info list page the `list-items:changed` event is fired even on the first pageview.\n// This causes the pageview  to be double tracked.\n// To prevent this we don't track the real pageview on the dealer info list pages.\nconst onDealerInfoListPage = /\\/haendler\\/.+\\/fahrzeuge/.test(window.location.pathname);\n\nif (onHomepage) {\n    home();\n} else if (!onDealerInfoListPage) {\n    pageview();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ivw.js","const path = window.location.pathname;\nconst pixelPath = (() => {\n    switch(true){\n        case RegExp('^\\/$').test(path):\n            return 'Service/Homepage/Homepage';\n            break;\n        case RegExp('(^\\/promo\\/preisbewertung)|(^\\/auto\\-verkaufen)|(^\\/fahrzeugbewertung)|(^\\/promo\\/preisbewertung)').test(path):\n            return 'Service/Sonstiges/Sonstiges';\n            break;\n        case RegExp('(^\\/motorrad)|(^\\/lst)').test(path):\n            return 'Service/Rubrikenmaerkte/Automarkt';\n            break;\n        case RegExp('(^\\/informieren)|(^\\/auto)|(^\\/moto)').test(path):\n            return 'RedCont/AutoUndMotor/AutoUndMotor';\n            break;\n        case RegExp('^\\/unternehmen').test(path):\n            return 'Service/Unternehmenskommunikation/Unternehmenskommunikation';\n            break;\n        default:\n            return 'not_available';\n            break;\n    }\n})();\n\nfunction detailPage(){\n    loadScript('https://script-at.iocnt.net/iam.js').then(() => {\n        if(window.iom){\n            // OEWA VERSION=\"3.0\" \n            window.oewa_data = {\n                cn: 'at', // country \n                st: 'at_w_atascout24', // sitename \n                cp: 'Service/Rubrikenmaerkte/Automarkt', // kategorienpfad  \n                sv: 'mo', // die Befragungseinladung wird im mobilen Format ausgespielt \n                ps: 'lin' // Privacy setting \n            };\n            iom.c(window.oewa_data,1); \n        }\n    });\n}\n\nfunction allPages() {\n    loadScript('https://script-at.iocnt.net/iam.js').then(() => {\n        if(window.iom){\n            // OEWA VERSION=\"3.0\" \n            window.oewa_data = {\n                cn: 'at', // country \n                st: 'at_w_atascout24', // sitename \n                cp: pixelPath, // kategorienpfad \n                sv: 'mo', // die Befragungseinladung wird im mobilen Format ausgespielt \n                ps: 'lin' // Privacy setting \n            };\n            iom.c(window.oewa_data,1); \n        }\n    });\n}\n\nfunction loadScript(src) {\n    return new Promise((resolve) => {\n        const script = document.createElement('script');\n        const ref = document.getElementsByTagName('script')[0];\n        ref.parentNode.insertBefore(script, ref);\n        script.onload = resolve;\n        script.src = src;\n    });\n}\n\n\nconst onDetailPage = path.startsWith('/angebote') && document.querySelector('as24-tracking[type=pagename]').getAttribute('pageid') === 'detail';\n\n\nif (onDetailPage) {\n    detailPage();\n\n    try {\n        document.querySelector('as24-carousel').addEventListener('as24-carousel.slide', (e) => detailPage());\n    } catch(e) {}\n\n    \n} else {\n    if(pixelPath !== 'not_available'){\n        allPages();\n    }   \n}\n\n\n// WEBPACK FOOTER //\n// ./src/oewa.js","var as24tracking = Object.assign(Object.create(HTMLElement.prototype), {\n    inDev: false,\n    supportedActions: ['set', 'click', 'pageview'],\n    supportedTypes: ['gtm', 'pagename'],\n    reservedWords: ['type', 'action', 'as24-tracking-value', 'as24-tracking-click-target'],\n\n    attachedCallback() {\n        var values = this.getAdditionalProperties();\n        var type = this.getAttribute('type');\n        var action = this.getAttribute('action');\n        var args = [type, action];\n\n        if (Object.keys(values).length > 0) {\n            args.push(values);\n        }\n\n        if (type === 'pagename') {\n            args.splice(1, 1);\n        }\n\n        var clickTarget = this.getAttribute('as24-tracking-click-target');\n        if (clickTarget) {\n            var elements = document.querySelectorAll(clickTarget);\n\n            for (var i = 0; i < elements.length; i++) {\n                elements[i].addEventListener('click', () => this.track(args));\n            }\n        } else {\n            this.track(args);\n        }\n    },\n\n    getAdditionalProperties() {\n        var trackingValue = this.getAttribute('as24-tracking-value');\n        var values = trackingValue ? JSON.parse(trackingValue) : {};\n\n        if (Array.isArray(values)) {\n            return values;\n        }\n\n        return Array.prototype.slice\n            .call(this.attributes)\n            .filter((element) => !(this.reservedWords.indexOf(element.nodeName) > -1))\n            .reduce((prev, curr) => {\n                var attrName = this.decodeAttributeName(curr.nodeName);\n                prev[attrName] = curr.nodeValue;\n                return prev;\n            }, values);\n    },\n\n    decodeAttributeName(attrName) {\n        if (attrName.indexOf('-') > -1) {\n            attrName = attrName.replace(/-([a-z])/g, function (g) {\n                return g[1].toUpperCase();\n            });\n        }\n        return attrName;\n    },\n\n    track(args) {\n        if (this.inDev) {\n            console.log(args);\n        } else {\n            window.ut = window.ut || [];\n            window.ut.push(args);\n        }\n    },\n});\n\ntry {\n    var ctor = document.createElement('as24-tracking').constructor;\n    if (ctor === HTMLElement || ctor === HTMLUnknownElement) {\n        document.registerElement('as24-tracking', {\n            prototype: as24tracking,\n        });\n    }\n} catch (e) {\n    if (window && window.console) {\n        window.console.warn('Failed to register CustomElement \"as24-tracking\".', e);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/trackingElement.js"],"sourceRoot":""}