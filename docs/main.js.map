{"version":3,"sources":["webpack:///webpack/bootstrap 3e9c6b84121e6ce3999b","webpack:///./docs/src/main.js","webpack:///./src/index.js","webpack:///./src/gtm/index.js","webpack:///./~/amp-merge/merge.js","webpack:///./~/amp-extend/extend.js","webpack:///./~/amp-is-object/is-object.js","webpack:///./src/gtm/googletagmanager.js","webpack:///./src/gtm/getGtmContainerId.js","webpack:///./src/gtm/viewport.js","webpack:///./src/dealer-gtm.js","webpack:///./src/trackingElement.js","webpack:///./src/clickTrackingAttributes.js","webpack:///./src/oewa.js"],"names":["tracking","require","window","ut","trackingEnabled","location","hash","indexOf","startTracking","gtm","dealerGtm","processCommand","data","fn","args","setPagename","slice","apply","__tcfapi","userCallback","callback","partialTcData","success","eventStatus","tcData","purpose","legitimateInterests","consents","push","Array","prototype","arguments","forEach","module","exports","hostname","split","pop","run","console","log","merge","containerId","viewport","pagename","pn","generateCommonParams","mergedPagename","country","market","category","pageid","environment","Error","JSON","stringify","commonPageName","group","filter","x","join","layer","commonData","common_country","common_market","common_category","common_pageid","common_pageName","common_environment","common_language","language","common_group","common_layer","common_attribute","attribute","common_linkgroup","linkgroup","common_linkid","linkid","common_techState","techState","trackClick","params","eventcategory","eventaction","event","event_category","event_action","event_label","eventlabel","event_non_interaction","firstPageview","trackPageview","setTimeout","loadContainer","set","pageview","click","extend","call","unshift","isObject","obj","source","prop","i","length","type","dataLayer","useNewArrayLogic","href","gtmAlreadyLoadedClassName","alreadyInitiatedMainGtmContainerLoaded","document","documentElement","className","listenerId","w","d","s","l","Date","getTime","f","getElementsByTagName","j","createElement","dl","async","src","parentNode","insertBefore","map","key","toLower","val","toLowerCase","containerIdsByTld","de","at","be","lu","es","fr","it","nl","com","isIdentityPage","extractTldFromRedirectUrl","url","regexp","RegExp","matches","match","tld","viewportWidth","Math","min","clientWidth","innerWidth","screen","width","session_viewport","currentVehicles","add","commit","list_productidsall","as24tracking","Object","create","HTMLElement","inDev","supportedActions","supportedTypes","reservedWords","attachedCallback","values","getAdditionalProperties","getAttribute","action","keys","splice","clickTarget","elements","querySelectorAll","addEventListener","track","trackingValue","parse","isArray","attributes","element","nodeName","reduce","prev","curr","attrName","decodeAttributeName","nodeValue","replace","g","toUpperCase","ctor","constructor","HTMLUnknownElement","registerElement","e","warn","node","target","rawValue","value","error","path","pathname","pixelPath","test","detailPage","loadScript","then","iom","oewa_data","cn","st","cp","sv","ps","c","allPages","Promise","resolve","script","ref","onload","onDetailPage","startsWith","querySelector"],"mappings":"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","file":"./docs/main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3e9c6b84121e6ce3999b","var tracking = require('../../src/index.js');\nwindow.ut = tracking.ut || [];\n\n\n\n// WEBPACK FOOTER //\n// ./docs/src/main.js","const trackingEnabled = location.hash.indexOf('tracking-off=true') < 0;\n\nconst startTracking = () => {\n    var gtm = require('./gtm');\n    var dealerGtm = require('./dealer-gtm');\n\n    function processCommand(data) {\n        var fn, args;\n\n        if (data[0] === 'pagename') {\n            gtm.setPagename(data[1]);\n        }\n\n        if (data[0] === 'gtm') {\n            fn = gtm[data[1]];\n            args = data.slice(2);\n            if (typeof fn === 'function') {\n                fn.apply(gtm, args);\n            }\n        }\n        \n        if (data[0] === 'dealer-gtm') {\n            fn = dealerGtm[data[1]];\n            args = data.slice(2);\n            if (typeof fn === 'function') {\n                fn.apply(dealerGtm, args);\n            }\n        }\n        \n        if (data[0] === 'cmp' && window.__tcfapi && data[1] === 'onPersonalizedCookiesAllowed' && typeof data[2] === 'function') {\n            var userCallback = data[2];\n            \n            var callback = (partialTcData, success) => {\n                if (\n                    success &&\n                    (partialTcData.eventStatus === 'tcloaded' || partialTcData.eventStatus === 'useractioncomplete')\n                ) {\n                    window.__tcfapi('getFullTCData', 2, (tcData) => {\n                        if (tcData.purpose.legitimateInterests['25'] && tcData.purpose.consents['26']) {\n                            userCallback();\n                        }\n                        window.__tcfapi('removeEventListener', 2, callback);\n                    });\n                }\n            };\n\n            window.__tcfapi('addEventListener', 2, callback);\n        }\n    }\n\n    var ut = window.ut || (window.ut = []);\n\n    if (ut.push === Array.prototype.push) {\n        ut.push = function () {\n            Array.prototype.push.apply(window.ut, arguments);\n            processCommand.apply({}, arguments);\n        };\n\n        ut.forEach(processCommand);\n    }\n\n    require('./trackingElement');\n\n    module.exports = {\n        gtm: gtm,\n        ut: ut,\n    };\n};\n\nrequire('./clickTrackingAttributes.js');\n\n// if (window.location.hostname.split('.').pop() === 'de') {\n//     require('./ivw');\n// }\n\nif (window.location.hostname.split('.').pop() === 'at') {\n    require('./oewa');\n}\n\nconst run = () => {\n    if (!trackingEnabled) {\n        console.log('Tracking disabled');\n        return;\n    }\n\n    startTracking();\n};\n\nrun();\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","var merge = require('amp-merge');\n\nvar gtm = require('./googletagmanager');\nvar containerId = require('./getGtmContainerId')(location.hostname);\nvar viewport = require('./viewport');\n\nvar pagename;\n\nfunction setPagename(pn) {\n    pagename = pn;\n}\n\nfunction generateCommonParams(data) {\n    var mergedPagename = merge({}, pagename, data);\n\n    if (\n        !mergedPagename ||\n        !mergedPagename.country ||\n        !mergedPagename.market ||\n        !mergedPagename.category ||\n        !mergedPagename.pageid ||\n        !mergedPagename.environment\n    ) {\n        if (mergedPagename.environment !== 'test' || mergedPagename.environment !== 'live') {\n            throw new Error('Invalid environment type, ' + JSON.stringify(mergedPagename));\n        }\n        throw new Error('Incorrect pagename, ' + JSON.stringify(mergedPagename));\n    }\n\n    var commonPageName = [\n        mergedPagename.country,\n        mergedPagename.market,\n        mergedPagename.category,\n        mergedPagename.group,\n        mergedPagename.pageid,\n    ]\n        .filter(function (x) {\n            return x;\n        })\n        .join('/');\n\n    if (mergedPagename.layer) {\n        commonPageName += '|' + mergedPagename.layer;\n    }\n\n    var commonData = {\n        common_country: mergedPagename.country,\n        common_market: mergedPagename.market,\n        common_category: mergedPagename.category,\n        common_pageid: mergedPagename.pageid,\n        common_pageName: commonPageName,\n        common_environment: mergedPagename.environment,\n\n        common_language: mergedPagename.language || '',\n        common_group: mergedPagename.group || '',\n        common_layer: mergedPagename.layer || '',\n        common_attribute: mergedPagename.attribute || '',\n\n        common_linkgroup: mergedPagename.linkgroup || '',\n        common_linkid: mergedPagename.linkid || '',\n\n        common_techState: mergedPagename.techState || '',\n    };\n\n    return commonData;\n}\n\nfunction trackClick(params) {\n    if (params.eventcategory && params.eventaction) {\n        gtm.push({\n            event: 'event_trigger',\n            event_category: params.eventcategory,\n            event_action: params.eventaction,\n            event_label: params.eventlabel || '',\n            event_non_interaction: false,\n        });\n    } else {\n        //DEPRECATED\n        gtm.push(generateCommonParams(params));\n        gtm.push({\n            event: 'click',\n        });\n    }\n}\n\nvar firstPageview = true;\n\nfunction trackPageview(data) {\n    if (firstPageview) {\n        gtm.push(viewport);\n    }\n\n    gtm.push(generateCommonParams(data));\n\n    setTimeout(function () {\n        if (firstPageview) {\n            gtm.loadContainer(containerId);\n            gtm.push({\n                event: 'common_data_ready',\n            });\n            gtm.push({\n                event: 'data_ready',\n            });\n            firstPageview = false;\n        } else {\n            gtm.push({\n                event: 'pageview',\n            });\n        }\n    }, 10);\n}\n\nmodule.exports = {\n    setPagename: setPagename,\n    trackClick: trackClick,\n\n    set: gtm.push,\n    pageview: trackPageview,\n    click: trackClick,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/index.js","var extend = require('amp-extend');\n\nmodule.exports = function merge() {\n    var args = [].slice.call(arguments);\n    args.unshift({});\n    return extend.apply(this, args);\n};\n\n\n// WEBPACK FOOTER //\n// ./~/amp-merge/merge.js","var isObject = require('amp-is-object');\n\n\nmodule.exports = function(obj) {\n    if (!isObject(obj)) return obj;\n    var source, prop;\n    for (var i = 1, length = arguments.length; i < length; i++) {\n        source = arguments[i];\n        for (prop in source) {\n            obj[prop] = source[prop];\n        }\n    }\n    return obj;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/amp-extend/extend.js","module.exports = function isObject(obj) {\n    var type = typeof obj;\n    return !!obj && (type === 'function' || type === 'object');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/amp-is-object/is-object.js","var dataLayer = (window.dataLayer = window.dataLayer || []);\nvar useNewArrayLogic = window.location.href.indexOf('tracking-arrays=true') >= 0;\n\nmodule.exports = {\n    loadContainer: function (containerId) {\n        var gtmAlreadyLoadedClassName = 'gtm-main-container-load-initiated';\n        var alreadyInitiatedMainGtmContainerLoaded =\n            document.documentElement.className.indexOf(gtmAlreadyLoadedClassName) >= 0;\n\n        if (alreadyInitiatedMainGtmContainerLoaded) {\n            // preventing duplicated load of main GTM container\n            return;\n        }\n\n        document.documentElement.className += ' ' + gtmAlreadyLoadedClassName;\n\n        if (window.__tcfapi) {\n            const callback = (tcData, success) => {\n                if (success && (tcData.eventStatus === 'tcloaded' || tcData.eventStatus === 'useractioncomplete')) {\n                    window.__tcfapi('removeEventListener', 2, () => {}, tcData.listenerId);\n                    __tcfapi('getTCData', 2, function (tcData, success) {\n                        if (\n                            success &&\n                            tcData.purpose.consents[1] &&\n                            tcData.purpose.consents[2] &&\n                            tcData.purpose.consents[3] &&\n                            tcData.purpose.consents[4] &&\n                            tcData.purpose.consents[5] &&\n                            tcData.purpose.consents[6] &&\n                            tcData.purpose.consents[7] &&\n                            tcData.purpose.consents[8] &&\n                            tcData.purpose.consents[9] &&\n                            tcData.purpose.consents[10]\n                        ) {\n                            loadContainer();\n                        }\n                    });\n                }\n            };\n            window.__tcfapi('addEventListener', 2, callback);\n        }\n\n        function loadContainer() {\n            (function (w, d, s, l, i) {\n                w[l] = w[l] || [];\n                w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });\n                var f = d.getElementsByTagName(s)[0],\n                    j = d.createElement(s),\n                    dl = l != 'dataLayer' ? '&l=' + l : '';\n                j.async = true;\n                j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;\n                f.parentNode.insertBefore(j, f);\n            })(window, document, 'script', 'dataLayer', containerId);\n        }\n    },\n\n    push: function () {\n        if (!arguments.length) {\n            return;\n        }\n\n        var args = [].slice.call(arguments);\n\n        args.map(function (data) {\n            for (var key in data) {\n                if (!useNewArrayLogic || typeof data[key] === 'string') {\n                    data[key] = toLower(data[key]);\n                }\n            }\n\n            return data;\n        });\n\n        dataLayer.push.apply(dataLayer, args);\n    },\n};\n\nfunction toLower(val) {\n    return val && ('' + val).toLowerCase();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/googletagmanager.js","var containerIdsByTld = {\n    de: 'GTM-MK57H2',\n    at: 'GTM-WBZ87G',\n    be: 'GTM-5BWB2M',\n    lu: 'GTM-NDBDCZ',\n    es: 'GTM-PS6QHN',\n    fr: 'GTM-PD93LD',\n    it: 'GTM-WTCSNR',\n    nl: 'GTM-TW48BJ',\n    com: 'GTM-KWX9NX',\n};\n\nvar isIdentityPage = function (hostname) {\n    return hostname === \"accounts.autoscout24.com\";\n};\n\nvar extractTldFromRedirectUrl = function (url) {\n    // search for ui_locales=xx in URL\n    var regexp = new RegExp(/ui_locales=([a-z]+)/g);\n    var matches = window.location.href.match(regexp);\n    var tld = 'com';\n\n    if (matches) {\n        var match = matches.join(''); // i.e. ui_locales=de\n        tld = match.split('=')[1];\n    }\n\n    return tld;\n};\n\nmodule.exports = function (hostname) {\n    var tld = isIdentityPage(hostname) ? extractTldFromRedirectUrl(window.location.href) : hostname.split('.').pop();\n    return containerIdsByTld[tld] || containerIdsByTld['com'];\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/getGtmContainerId.js","var viewportWidth = Math.min(document.documentElement.clientWidth, window.innerWidth || screen.width);\n\nmodule.exports = {\n    session_viewport: viewportWidth >= 994 ? 'l' : viewportWidth >= 768 ? 'm' : viewportWidth >= 480 ? 's' : 'xs',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/gtm/viewport.js","var currentVehicles = [];\n\nfunction add(data) {\n    currentVehicles.push(data);\n}\n\nfunction commit() {\n    window.dataLayer = window.dataLayer || [];\n    window.dataLayer.push({\n        list_productidsall: currentVehicles,\n    });\n\n    currentVehicles = [];\n}\n\nmodule.exports = {\n    add: add,\n    commit: commit,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/dealer-gtm.js","var as24tracking = Object.assign(Object.create(HTMLElement.prototype), {\n    inDev: false,\n    supportedActions: ['set', 'click', 'pageview'],\n    supportedTypes: ['gtm', 'pagename'],\n    reservedWords: ['type', 'action', 'as24-tracking-value', 'as24-tracking-click-target'],\n\n    attachedCallback() {\n        var values = this.getAdditionalProperties();\n        var type = this.getAttribute('type');\n        var action = this.getAttribute('action');\n        var args = [type, action];\n\n        if (Object.keys(values).length > 0) {\n            args.push(values);\n        }\n\n        if (type === 'pagename') {\n            args.splice(1, 1);\n        }\n\n        var clickTarget = this.getAttribute('as24-tracking-click-target');\n        if (clickTarget) {\n            var elements = document.querySelectorAll(clickTarget);\n\n            for (var i = 0; i < elements.length; i++) {\n                elements[i].addEventListener('click', () => this.track(args));\n            }\n        } else {\n            this.track(args);\n        }\n    },\n\n    getAdditionalProperties() {\n        var trackingValue = this.getAttribute('as24-tracking-value');\n        var values = trackingValue ? JSON.parse(trackingValue) : {};\n\n        if (Array.isArray(values)) {\n            return values;\n        }\n\n        return Array.prototype.slice\n            .call(this.attributes)\n            .filter((element) => !(this.reservedWords.indexOf(element.nodeName) > -1))\n            .reduce((prev, curr) => {\n                var attrName = this.decodeAttributeName(curr.nodeName);\n                prev[attrName] = curr.nodeValue;\n                return prev;\n            }, values);\n    },\n\n    decodeAttributeName(attrName) {\n        if (attrName.indexOf('-') > -1) {\n            attrName = attrName.replace(/-([a-z])/g, function (g) {\n                return g[1].toUpperCase();\n            });\n        }\n        return attrName;\n    },\n\n    track(args) {\n        if (this.inDev) {\n            console.log(args);\n        } else {\n            window.ut = window.ut || [];\n            window.ut.push(args);\n        }\n    },\n});\n\ntry {\n    var ctor = document.createElement('as24-tracking').constructor;\n    if (ctor === HTMLElement || ctor === HTMLUnknownElement) {\n        document.registerElement('as24-tracking', {\n            prototype: as24tracking,\n        });\n    }\n} catch (e) {\n    if (window && window.console) {\n        window.console.warn('Failed to register CustomElement \"as24-tracking\".', e);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/trackingElement.js","// TODO: this is an experimental feature.\n// If this works well, we have to document it.\n\nwindow.addEventListener('click', (e) => {\n    window.dataLayer = window.dataLayer || [];\n\n    let node = e.target;\n\n    do {\n        const rawValue = node.getAttribute('data-click-datalayer-push');\n        if (rawValue) {\n            try {\n                // TODO: Check if we can use something like `eval` but more secure to allow JS style objects\n                // aka. objects without quotes around key names or some computation inside\n                // e.g. { event: \"event_trigger\", event_category: \"category\", event_action: \"action\" }\n                // Don't use `eval` or `new Function(...)` directly because they execute anything => XSS attack\n\n                const value = JSON.parse(rawValue);\n                window.dataLayer.push(value);\n            } catch (e) {\n                console.error('Cannot parse tracking value', rawValue, node);\n            }\n        }\n        node = node.parentNode;\n    } while (node && node.getAttribute);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/clickTrackingAttributes.js","const path = window.location.pathname;\nconst pixelPath = (() => {\n    switch(true){\n        case RegExp('^\\/$').test(path):\n            return 'Service/Homepage/Homepage';\n            break;\n        case RegExp('(^\\/promo\\/preisbewertung)|(^\\/auto\\-verkaufen)|(^\\/fahrzeugbewertung)|(^\\/promo\\/preisbewertung)').test(path):\n            return 'Service/Sonstiges/Sonstiges';\n            break;\n        case RegExp('(^\\/motorrad)|(^\\/lst)').test(path):\n            return 'Service/Rubrikenmaerkte/Automarkt';\n            break;\n        case RegExp('(^\\/informieren)|(^\\/auto)|(^\\/moto)').test(path):\n            return 'RedCont/AutoUndMotor/AutoUndMotor';\n            break;\n        case RegExp('^\\/unternehmen').test(path):\n            return 'Service/Unternehmenskommunikation/Unternehmenskommunikation';\n            break;\n        default:\n            return 'not_available';\n            break;\n    }\n})();\n\nfunction detailPage(){\n    loadScript('https://script-at.iocnt.net/iam.js').then(() => {\n        if(window.iom){\n            // OEWA VERSION=\"3.0\" \n            window.oewa_data = {\n                cn: 'at', // country \n                st: 'at_w_atascout24', // sitename \n                cp: 'Service/Rubrikenmaerkte/Automarkt', // kategorienpfad  \n                sv: 'mo', // die Befragungseinladung wird im mobilen Format ausgespielt \n                ps: 'lin' // Privacy setting \n            };\n            iom.c(window.oewa_data,1); \n        }\n    });\n}\n\nfunction allPages() {\n    loadScript('https://script-at.iocnt.net/iam.js').then(() => {\n        if(window.iom){\n            // OEWA VERSION=\"3.0\" \n            window.oewa_data = {\n                cn: 'at', // country \n                st: 'at_w_atascout24', // sitename \n                cp: pixelPath, // kategorienpfad \n                sv: 'mo', // die Befragungseinladung wird im mobilen Format ausgespielt \n                ps: 'lin' // Privacy setting \n            };\n            iom.c(window.oewa_data,1); \n        }\n    });\n}\n\nfunction loadScript(src) {\n    return new Promise((resolve) => {\n        const script = document.createElement('script');\n        const ref = document.getElementsByTagName('script')[0];\n        ref.parentNode.insertBefore(script, ref);\n        script.onload = resolve;\n        script.src = src;\n    });\n}\n\n\nconst onDetailPage = path.startsWith('/angebote') && document.querySelector('as24-tracking[type=pagename]').getAttribute('pageid') === 'detail';\n\n\nif (onDetailPage) {\n    detailPage();\n\n    try {\n        document.querySelector('as24-carousel').addEventListener('as24-carousel.slide', (e) => detailPage());\n    } catch(e) {}\n\n    \n} else {\n    if(pixelPath !== 'not_available'){\n        allPages();\n    }   \n}\n\n\n// WEBPACK FOOTER //\n// ./src/oewa.js"],"sourceRoot":""}